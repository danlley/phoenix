<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"   
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
       xmlns:context="http://www.springframework.org/schema/context"   
       xmlns:mvc="http://www.springframework.org/schema/mvc"  
       xsi:schemaLocation="http://www.springframework.org/schema/mvc   
       http://www.springframework.org/schema/mvc/spring-mvc-4.1.xsd  
        http://www.springframework.org/schema/beans   
                http://www.springframework.org/schema/beans/spring-beans-4.1.xsd  
        http://www.springframework.org/schema/context   
                http://www.springframework.org/schema/context/spring-context-4.1.xsd"
	default-autowire="byName">
	
	<!-- 店铺配置信息变更监听器 -->
	<bean id="pxMobileGoodsListCacheRefreshListener" class="com.myteay.phoenix.biz.service.quartz.listeners.PxMobileGoodsListCacheRefreshListener">
		<property name="descriptor">
			<bean class="com.myteay.common.async.event.ListenerDescriptor">
				<property name="topic" value="PX_TASK_MOBILE_GOODS_CACHE_LOAD"></property>
				<property name="async" value="true"></property>
				<property name="taskExecutor" ref="myteayCommonTaskExecutor"></property>
			</bean>
		</property>
	</bean>
	
	<!-- 店铺过期时间扫描监听器 -->
	<bean id="pxShopExpiredScanListener" class="com.myteay.phoenix.biz.service.quartz.listeners.PxShopExpiredScanListener">
		<property name="descriptor">
			<bean class="com.myteay.common.async.event.ListenerDescriptor">
				<property name="topic" value="PX_TASK_SHOP_EXPIRED"></property>
				<property name="async" value="true"></property>
				<property name="taskExecutor" ref="myteayCommonTaskExecutor"></property>
			</bean>
		</property>
	</bean>
	
	<!-- 定时处理已经过期的营销活动 -->
	<bean id="campExpiredScanEventListener" class="com.myteay.phoenix.biz.service.quartz.camp.listeners.CampExpiredScanEventListener">
		<property name="descriptor">
			<bean class="com.myteay.common.async.event.ListenerDescriptor">
				<property name="topic" value="CAMP_TASK_EXPIRED"></property>
				<property name="async" value="true"></property>
				<property name="taskExecutor" ref="myteayCommonTaskExecutor"></property>
			</bean>
		</property>
	</bean>
	
	<!-- 定时处理已经过期的营销活动奖品 -->
	<bean id="campPrizeExpiredScanEventListener" class="com.myteay.phoenix.biz.service.quartz.camp.listeners.CampPrizeExpiredScanEventListener">
		<property name="descriptor">
			<bean class="com.myteay.common.async.event.ListenerDescriptor">
				<property name="topic" value="CAMP_PRIZE_TASK_EXPIRED"></property>
				<property name="async" value="true"></property>
				<property name="taskExecutor" ref="myteayCommonTaskExecutor"></property>
			</bean>
		</property>
	</bean>
	
	<!-- 定时处理已支付的待迁移订单 -->
	<bean id="pxPayedOrderNeedMvListener" class="com.myteay.phoenix.biz.service.quartz.listeners.PxPayedOrderNeedMvListener">
		<property name="descriptor">
			<bean class="com.myteay.common.async.event.ListenerDescriptor">
				<property name="topic" value="PX_TASK_SHOP_PAYED_ORDERS"></property>
				<property name="async" value="true"></property>
				<property name="taskExecutor" ref="myteayCommonTaskExecutor"></property>
			</bean>
		</property>
	</bean>
	
	<!-- 定时处理营销活动奖品 -->
	<bean id="campPrizeOutExpiredScanEventListener" class="com.myteay.phoenix.biz.service.quartz.camp.listeners.CampPrizeOutExpiredScanEventListener">
		<property name="descriptor">
			<bean class="com.myteay.common.async.event.ListenerDescriptor">
				<property name="topic" value="CAMP_PRIZE_OUT_TASK_EXPIRED"></property>
				<property name="async" value="true"></property>
				<property name="taskExecutor" ref="myteayCommonTaskExecutor"></property>
			</bean>
		</property>
	</bean>
	
	<!-- 定时处理已经过期的营销活动奖品 -->
	<bean id="campPrizeOutExpiredEventListener" class="com.myteay.phoenix.biz.service.quartz.camp.listeners.CampPrizeOutExpiredEventListener">
		<property name="descriptor">
			<bean class="com.myteay.common.async.event.ListenerDescriptor">
				<property name="topic" value="CAMP_PRIZE_OUT_EXPIRED"></property>
				<property name="async" value="true"></property>
				<property name="taskExecutor" ref="myteayCommonTaskExecutor"></property>
			</bean>
		</property>
	</bean>
	
	<!-- 定时处理已消费的营销活动奖品 -->
	<bean id="campPrizeOutConsumedMvListener" class="com.myteay.phoenix.biz.service.quartz.camp.listeners.CampPrizeOutConsumedMvListener">
		<property name="descriptor">
			<bean class="com.myteay.common.async.event.ListenerDescriptor">
				<property name="topic" value="CAMP_PRIZE_OUT_CONSUMED_MV"></property>
				<property name="async" value="true"></property>
				<property name="taskExecutor" ref="myteayCommonTaskExecutor"></property>
			</bean>
		</property>
	</bean>
	
	<!-- 定时处理已消费的营销活动奖品 -->
	<bean id="campPrizeOutExpiredMvListener" class="com.myteay.phoenix.biz.service.quartz.camp.listeners.CampPrizeOutExpiredMvListener">
		<property name="descriptor">
			<bean class="com.myteay.common.async.event.ListenerDescriptor">
				<property name="topic" value="CAMP_PRIZE_OUT_EXPIRED_MV"></property>
				<property name="async" value="true"></property>
				<property name="taskExecutor" ref="myteayCommonTaskExecutor"></property>
			</bean>
		</property>
	</bean>
	
	<!-- 定时处理已经过期的收银台订单 -->
	<bean id="pxShopExpiredOrderScanListener" class="com.myteay.phoenix.biz.service.quartz.listeners.PxShopExpiredOrderScanListener">
		<property name="descriptor">
			<bean class="com.myteay.common.async.event.ListenerDescriptor">
				<property name="topic" value="PX_TASK_SHOP_EXPIRED_ORDERS"></property>
				<property name="async" value="true"></property>
				<property name="taskExecutor" ref="myteayCommonTaskExecutor"></property>
			</bean>
		</property>
	</bean>
</beans>
